# 功夫宅急送 (Kungfu Takeaway)

哈工大校园功夫食堂点餐系统，支持管理员后台管理与用户在线点餐。项目采用前后端分离架构，基于 Vue 3 和 Node.js + Express 实现，并引入了 AI 点餐助手，致力于为用户提供现代化、智能且便捷的订餐体验。

## ✨ 项目亮点

*   **智能 AI 助手**：集成基于大语言模型（阿里通义千问）的 AI 点餐助手，能根据用户的历史订单、口味偏好、当前时间（午餐/晚餐）等上下文信息，智能推荐个性化菜品组合。
*   **现代化 UI/UX**：精心设计了包括个人中心、购物车在内的多个核心页面，采用现代化的卡片式布局和微动效，界面美观、交互流畅。
*   **功能全面的后台管理**：提供商品、分类、套餐、订单和数据统计等全方位的后台管理功能，支持商户高效运营。
*   **组件化与工程化**：前端采用基于 Vite 的 Vue 3 技术栈，实现了高度的组件化开发；后端采用模块化设计，结构清晰，易于维护和扩展。

## 项目结构

```
kungfu-takeaway/
├── frontend/            # 前端项目（基于 Vite 创建的 Vue 3 应用）
├── backend/
│   ├── routes/          # 路由模块 (e.g., aiRoutes.js)
│   ├── controllers/     # 控制器逻辑 (e.g., aiController.js)
│   ├── models/          # 数据模型与数据库操作（使用 SQLite）
│   ├── middleware/      # 中间件（如用户认证）
│   ├── utils/           # 工具类（响应结构、数据库实例等）
│   ├── uploads/         # 上传的图片资源（如菜品图片）
│   ├── app.js           # Express 后端入口
│   └── package.json     # 后端依赖与脚本配置
└── README.md
```

## 🚀 技术栈

*   **前端**：Vue 3 (Composition API) + Vite + Vue Router + Tailwind CSS + Axios
*   **后端**：Node.js + Express + JWT (JSON Web Token) for authentication
*   **数据库**：SQLite (通过 `sqlite3` 模块操作)
*   **文件上传**：Multer 中间件
*   **AI 集成**：通过 OpenAI-compatible API 调用阿里云通义千问大模型

## 🌟 功能模块

### 管理员端

*   **登录**：安全的管理员登录认证。
*   **仪表盘**：核心数据（今日营业额、订单数）一览。
*   **分类管理**：对菜品和套餐的分类进行增、删、改、查。
*   **菜品管理**：支持图文信息的菜品管理，可设置多种口味。
*   **套餐管理**：将多个菜品组合为套餐进行销售。
*   **订单处理**：查看并处理用户的订单。
*   **数据统计**：分析营业额趋势和热销商品排行。

### 用户端

*   **注册与登录**：支持新用户注册和登录功能。
*   **AI 点餐助手**：获取个性化的智能菜品推荐。
*   **菜单浏览**：按分类浏览所有菜品和套餐，支持关键词搜索。
*   **菜品详情**：查看菜品详细信息并根据需要选择口味。
*   **购物车**：功能完善的购物车，可增删商品、修改数量。
*   **下单与支付**：流畅的下单结算流程。
*   **个人中心**：
    *   管理个人资料（头像、昵称、联系方式等）。
    *   管理和新增收货地址。
    *   查看历史订单及其详情。
    *   支持钱包充值和密码修改。

## 快速启动

### 启动后端

1.  进入 `backend` 目录：
    ```bash
    cd backend
    ```
2.  安装依赖：
    ```bash
    npm install
    ```
3.  启动开发服务器：
    ```bash
    npm run dev
    ```
    后端服务器将在 `http://localhost:3000` 启动。首次运行时将自动在 `models/` 目录下初始化 SQLite 数据库文件 `kungfu_takeaway.db`。

### 启动前端

1.  进入 `frontend` 目录：
    ```bash
    cd frontend
    ```
2.  安装依赖：
    ```bash
    npm install
    ```
3.  启动开发服务器：
    ```bash
    npm run dev
    ```
    前端开发服务器默认运行在 `http://localhost:8080`。项目已配置好代理，API 请求将自动转发到后端服务。

## 接口说明

*   所有 API 接口遵循 RESTful 风格，统一前缀为 `/api/`。
*   通过 JWT 进行用户认证，需要认证的接口需在请求头中携带 `Authorization: Bearer <token>`。
*   详细的接口定义请参考后端 `routes/` 目录下的代码。
